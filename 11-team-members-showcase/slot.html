<!doctype html>
<html lang="hu">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Slot Machine</title>
<style>
  *{padding:0;margin:0;box-sizing:border-box;font-family:Inter, system-ui, Arial, sans-serif}
  :root{
    --primary-color: red;
    --primary-gradient: linear-gradient(135deg, red, darkred);
    --bg:#121212; --panel:#1f1f1f; --muted:#9ca3af; --accent:limegreen;
    --card-radius:12px; --shadow:0 10px 20px rgba(0,0,0,0.6);
  }
  body{background:var(--bg);color:#f3f4f6;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
  .wrap{width:100%;max-width:980px}

  header{text-align:center;margin-bottom:22px}
  header h1{font-size:2.6rem;background:var(--primary-gradient);-webkit-background-clip:text;background-clip:text;color:transparent}
  header p{color:var(--muted);margin-top:8px}

  .top-row{display:flex;justify-content:space-between;align-items:center;margin:18px 0}
  .balance{font-size:28px;color:var(--accent);font-weight:700}

  .machine{background:var(--panel);padding:20px;border-radius:var(--card-radius);box-shadow:var(--shadow)}
  .controls{display:flex;gap:12px;align-items:center;justify-content:center;margin-bottom:18px}
  input[type=number]{padding:8px;border-radius:10px;border:1px solid rgba(255,255,255,0.06);background:#111;color:#fff;width:140px}
  button{padding:10px 16px;border-radius:10px;border:none;background:var(--primary-gradient);color:white;font-weight:700;cursor:pointer}

  .reels{display:flex;gap:14px;justify-content:center;padding:16px 0}
  .reel{width:130px;height:130px;border-radius:14px;background:#0f0f0f;border:2px solid rgba(255,255,255,0.04);display:flex;align-items:center;justify-content:center;font-size:40px}
  .reel.small{width:90px;height:90px;font-size:28px}
  .result{margin-top:12px;text-align:center;color:var(--muted)}

  .paytable{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:18px;color:var(--muted)}
  .paytable .row{display:flex;justify-content:space-between;padding:8px;border-radius:8px;background:linear-gradient(180deg, rgba(255,255,255,0.01), transparent)}
  .paytable .label{font-weight:600}
  .expected{margin-top:14px;color:var(--muted);font-size:0.95rem}

  footer{margin-top:18px;text-align:center;color:var(--muted);font-size:0.9rem}

  @media(max-width:720px){.reel{width:90px;height:90px;font-size:28px}.paytable{grid-template-columns:1fr}}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Nyer≈ëg√©pek</h1>
      
    </header>

    <div class="top-row">
      <div>
        <button onclick="window.location.href='main.html'">Vissza</button>
        <label for="bet">Kezd≈ë t√©t: </label>
        <input id="bet" type="number" value="100" min="1"> $
        <button id="spinBtn">SPIN</button>
      </div>
      <div class="balance" id="balance">$1000</div>
    </div>

    <div class="machine">
      <div class="reels" id="reels">
        <div class="reel" id="r1">‚ùì</div>
        <div class="reel" id="r2">‚ùì</div>
        <div class="reel" id="r3">‚ùì</div>
      </div>

      <div class="result" id="result">√Ållapot: v√°rakoz√°s...</div>

      <div class="paytable">
        <div class="row"><div class="label">H√°rom hetes (777)</div><div class="value">x100 </div></div>
        <div class="row"><div class="label">H√°rom harang</div><div class="value">x25 </div></div>
        <div class="row"><div class="label">H√°rom azonos gy√ºm√∂lcs</div><div class="value">x10 </div></div>
        <div class="row"><div class="label">B√°rmely h√°rom gy√ºm√∂lcs</div><div class="value">x2 </div></div>
      </div>

    </div>

    <footer>Szab√°ly: h√°rom azonos szimb√≥lum kell a kifizet√©shez. Gy√ºm√∂lcs√∂k: üçí üçã üçä üçá. Harang: üîî. Hetes: 7.</footer>
  </div>

<script>
const symbols = [
  {key:'CH',emoji:'üçí',type:'fruit'},
  {key:'LE',emoji:'üçã',type:'fruit'},
  {key:'OR',emoji:'üçä',type:'fruit'},
  {key:'PL',emoji:'üçá',type:'fruit'},
  {key:'BL',emoji:'üîî',type:'bell'},
  {key:'7', emoji:'7Ô∏è‚É£',type:'seven'}
];

const reels = [0,1,2,3,4,5];
const payouts = {seven:100,bell:25,sameFruit:10,anyThreeFruits:2};
const balanceEl = document.getElementById('balance');
const r1 = document.getElementById('r1'), r2 = document.getElementById('r2'), r3 = document.getElementById('r3');
const resultEl = document.getElementById('result');
const spinBtn = document.getElementById('spinBtn');
const betInput = document.getElementById('bet');

let balance = Number(balanceEl.textContent.replace('$',''));
updateBalance(balance);

function updateBalance(v){ balance = v; balanceEl.textContent = '$' + Number(balance).toLocaleString(); }
function randPos(){ return Math.floor(Math.random()*reels.length); }

function spin(){
  const bet = Math.max(1, Math.floor(Number(betInput.value) || 1));
  if(bet>balance){ alert('Nincs el√©g p√©nzed!'); return; }
  balance -= bet;
  updateBalance(balance);

  const i1 = randPos(); const i2 = randPos(); const i3 = randPos();
  const s1 = symbols[i1], s2 = symbols[i2], s3 = symbols[i3];

  r1.textContent = '...'; r2.textContent = '...'; r3.textContent = '...';
  resultEl.textContent = 'P√∂rget√©s...';
  spinBtn.disabled = true;

  setTimeout(()=>{ r1.textContent = s1.emoji; r2.textContent = s2.emoji; r3.textContent = s3.emoji; evaluate(s1,s2,s3,bet); spinBtn.disabled = false; }, 600);
}

function evaluate(a,b,c,bet){
if(a.key === b.key && b.key === c.key){
if(a.type==='seven') return payout(bet,payouts.seven,'H√°rom hetes!');
if(a.type==='bell') return payout(bet,payouts.bell,'H√°rom harang!');
if(a.type==='fruit') return payout(bet,payouts.sameFruit,'H√°rom azonos gy√ºm√∂lcs!');
}
if(a.type==='fruit' && b.type==='fruit' && c.type==='fruit') return payout(bet,payouts.anyThreeFruits,'B√°rmely h√°rom gy√ºm√∂lcs!');
resultEl.textContent='Nem nyert√©l. Pr√≥b√°ld √∫jra!';
}


function payout(bet,multiplier,msg){
const win = bet*multiplier;
balance += win;
updateBalance(balance);
resultEl.innerHTML=`${msg} Kifizet√©s: <strong>$${win}</strong> (x${multiplier})`;
}


spinBtn.addEventListener('click',spin);
</script>
</body>
</html>
